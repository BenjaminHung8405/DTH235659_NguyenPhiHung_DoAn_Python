<!DOCTYPE html>
<html lang="vi" class="h-full">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Đăng nhập - Expense Tracker</title>
    <!-- Tích hợp Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;700&display=swap");
      html {
        font-family: "Be Vietnam Pro", sans-serif;
      }
    </style>
  </head>
  <body
    class="h-full bg-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"
  >
    <div class="w-full max-w-md space-y-8">
      <div class="bg-white shadow-xl rounded-2xl p-8 space-y-6">
        <div class="text-center">
          <svg
            class="mx-auto h-12 w-auto text-blue-600"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M21 12a2.25 2.25 0 00-2.25-2.25H15a3 3 0 11-6 0H5.25A2.25 2.25 0 003 12m18 0v6a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 9m12 3a3 3 0 11-6 0 3 3 0 016 0z"
            />
          </svg>
          <h2 class="mt-4 text-3xl font-bold tracking-tight text-gray-900">
            Đăng nhập tài khoản
          </h2>
          <p class="mt-2 text-sm text-gray-600">Chào mừng bạn quay trở lại!</p>
        </div>

        {% if messages %}
        <div class="space-y-2">
          {% for message in messages %}
          <div
            class="p-3 rounded text-sm {% if message.tags %}text-{{ message.tags }}{% endif %} bg-rose-50"
          >
            {{ message }}
          </div>
          {% endfor %}
        </div>
        {% endif %} {% if form.non_field_errors %}
        <div class="text-sm text-red-600">{{ form.non_field_errors }}</div>
        {% endif %}

        <form class="mt-8 space-y-6" action="{% url 'login' %}" method="POST">
          {% csrf_token %}
          <input type="hidden" name="remember" value="true" />
          <div class="rounded-md shadow-sm -space-y-px">
            <div>
              <label for="id_username" class="sr-only">Tên đăng nhập</label>
              <input
                id="id_username"
                name="username"
                type="text"
                autocomplete="username"
                required
                value="{{ form.username.value|default:'' }}"
                class="relative block w-full appearance-none rounded-none rounded-t-md border border-gray-300 px-3 py-3 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"
                placeholder="Tên đăng nhập"
              />
              {% if form.username.errors %}
              <p class="mt-1 text-sm text-red-600">
                {{ form.username.errors.0 }}
              </p>
              {% endif %}
            </div>
            <div>
              <label for="id_password" class="sr-only">Mật khẩu</label>
              <input
                id="id_password"
                name="password"
                type="password"
                autocomplete="current-password"
                required
                class="relative block w-full appearance-none rounded-none rounded-b-md border border-gray-300 px-3 py-3 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm"
                placeholder="Mật khẩu"
              />
              {% if form.password.errors %}
              <p class="mt-1 text-sm text-red-600">
                {{ form.password.errors.0 }}
              </p>
              {% endif %}
            </div>
          </div>

          <div class="flex items-center justify-between">
            <div class="flex items-center">
              <input
                id="remember-me"
                name="remember-me"
                type="checkbox"
                class="h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"
              />
              <label for="remember-me" class="ml-2 block text-sm text-gray-900"
                >Ghi nhớ đăng nhập</label
              >
            </div>
            <div class="text-sm">
              <a href="#" class="font-medium text-blue-600 hover:text-blue-500"
                >Quên mật khẩu?</a
              >
            </div>
          </div>

          <div>
            <button
              type="submit"
              class="group relative flex w-full justify-center rounded-md border border-transparent bg-blue-600 py-3 px-4 text-sm font-bold text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"
            >
              Đăng nhập
            </button>
          </div>
        </form>

        <div class="relative my-4">
          <div class="absolute inset-0 flex items-center">
            <div class="w-full border-t border-gray-300"></div>
          </div>
          <div class="relative flex justify-center text-sm">
            <span class="bg-white px-2 text-gray-500">Hoặc tiếp tục với</span>
          </div>
        </div>

        <div>
          <a
            href="#"
            class="group relative flex w-full justify-center rounded-md border border-gray-300 bg-white py-3 px-4 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2"
          >
            <svg
              class="w-5 h-5 mr-2"
              fill="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                d="M9.78,18.65L10.26,14.21L18.83,7.47C19.31,7.03 18.78,6.92 18.26,7.2L7.9,13.31L4.23,12.05C3.59,11.84 3.58,11.37 4.38,11.09L20.1,4.62C20.85,4.32 21.43,4.92 21.1,5.78L17.3,20.11C17.06,21.05 16.32,21.24 15.68,20.81L12.32,18.23L10.26,20.24C10,20.5 9.5,20.25 9.78,18.65Z"
              />
            </svg>
            Đăng nhập bằng Telegram
          </a>
        </div>
      </div>

      <p class="mt-4 text-center text-sm text-gray-600">
        Chưa có tài khoản?
        <a
          href="{% url 'register' %}"
          class="font-medium text-blue-600 hover:text-blue-500"
          >Đăng ký ngay</a
        >
      </p>
    </div>
  </body>
</html>
